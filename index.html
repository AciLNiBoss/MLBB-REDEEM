<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MLBB Naruto Skin Redeem</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #000000, #0f0f0f);
      color: #00ffe0;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      background: #111;
      border: 2px solid #00ffe0;
      padding: 30px;
      border-radius: 16px;
      width: 360px;
      box-shadow: 0 0 25px #00ffe0;
      text-align: center;
    }

    h2, h3 {
      color: #00ffe0;
      margin-bottom: 20px;
    }

    input, select, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 6px;
      border: none;
    }

    input, select {
      background: #1a1a1a;
      color: #00ffe0;
      border: 1px solid #00ffe0;
    }

    button {
      background: linear-gradient(135deg, #00ffe0, #00bfff);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    button:hover {
      transform: scale(1.05);
    }

    .hidden {
      display: none;
    }

    #resultBox {
      background: #1b1b1b;
      padding: 20px;
      border: 1px solid #00ffe0;
      border-radius: 10px;
      margin-top: 10px;
      color: #00ffe0;
    }

    strong {
      color: #ffffff;
    }
  </style>
</head>
<body>

  <div class="container">
    <div id="formPage">
      <h2>MLBB Naruto Skin Redeem</h2>
      <form id="redeemForm">
        <input type="text" id="username" placeholder="Enter your MLBB Username" required />
        <input type="text" id="mlbbId" placeholder="Enter your MLBB ID" required inputmode="numeric" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '')" />
        <input type="text" id="zoneId" placeholder="Enter your Zone ID" required inputmode="numeric" pattern="[0-9]*" oninput="this.value = this.value.replace(/[^0-9]/g, '')" />
        
        <label for="skinCount">How many skins do you own?</label>
        <select id="skinCount" required>
          <option value="" disabled selected>Select the number of skins you own</option>
          <!-- Generate options 1 to 999 -->
          <script>
            for (let i = 1; i <= 999; i++) {
              let option = document.createElement("option");
              option.value = i;
              option.textContent = `Skin ${i}`;
              document.getElementById("skinCount").appendChild(option);
            }
          </script>
        </select>

        <label for="skinSelect">Select a Skin MLBB X NARUTO</label>
        <select id="skinSelect" required class="hidden">
          <option value="" disabled selected>Select your skin</option>
          <option value="Lukas - Naruto Uzumaki">Lukas - Naruto Uzumaki</option>
          <option value="Kalea - Sakura">Kalea - Sakura</option>
          <option value="Hayabusa - Kakashi">Hayabusa - Kakashi</option>
          <option value="Suyou - Sasuke">Suyou - Sasuke</option>
        </select>

        <button type="submit">Get Redeem Code</button>
      </form>
    </div>

    <div id="resultPage" class="hidden">
      <div id="resultBox">
        <h3>Congratulations!</h3>
        <p>Username: <strong id="displayUsername"></strong></p>
        <p>Selected Skin(s): <strong id="skinName"></strong></p>
        <p>Your Redeem Code: <strong id="codeResult"></strong></p>
        <p>You'll be redirected to Telegram now...</p>
      </div>
    </div>
  </div>

  <script>
    const form = document.getElementById("redeemForm");
    const formPage = document.getElementById("formPage");
    const resultPage = document.getElementById("resultPage");
    const skinCountSelect = document.getElementById("skinCount");
    const skinSelect = document.getElementById("skinSelect");

    // Menampilkan dropdown skin setelah memilih jumlah skin
    skinCountSelect.addEventListener("change", function() {
      if (skinCountSelect.value) {
        skinSelect.classList.remove("hidden");
      }
    });

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const username = document.getElementById("username").value.trim();
      const mlbbId = document.getElementById("mlbbId").value.trim();
      const zoneId = document.getElementById("zoneId").value.trim();
      const skinCount = skinCountSelect.value;
      const selectedSkin = skinSelect.value;

      if (!username || !mlbbId || !zoneId || !skinCount || !selectedSkin) {
        alert("Please complete all fields.");
        return;
      }

      // Membuat redeem code
      const redeemCode = "MLBB-" + Math.random().toString(36).substr(2, 6).toUpperCase();

      document.getElementById("displayUsername").textContent = `: ${username} ID : ${mlbbId} ID SERVER : ${zoneId}`;
      document.getElementById("skinName").textContent = `${selectedSkin} (Skin Count: ${skinCount})`;
      document.getElementById("codeResult").textContent = redeemCode;

      formPage.classList.add("hidden");
      resultPage.classList.remove("hidden");

      const message = encodeURIComponent(
        `MLBB Redeem Request:\nUsername: ${username}\nID: ${mlbbId}\nZone: ${zoneId}\nSkin Count: ${skinCount}\nSkin: ${selectedSkin}\nCode: ${redeemCode}\nHello admin, I just redeemed MLBB skin`
      );

      setTimeout(() => {
        window.location.href = `tg://resolve?domain=Moonton027&text=${message}`;
      }, 3000);
    });
  </script>

</body>
  </html>
